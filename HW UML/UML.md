> [назад в DRD](https://github.com/vnukov-vv/AlfaCampus-SA/blob/main/HW%20MD/BRD.md)
## Домашнее задание по UML
# Use Case

```plantuml
@startuml

left to right direction
:Клиент: as C
Package "<<Сотрудники>>"{
:Курьер: as D
:Оператор: as O
}
Rectangle "<<Система>>" {
(Авторизовался\n в **Системе**) as (UC0)
(1.Получил \n атрибуты **Встречи**) as (UC1) 
(2.Идентифицировал \n **Клиента** в **Системе**) as (UC4)
(3.Изменил статус **Карты** в **Системе**) as (UC6)
}

(1.Подтвердил атрибуты \n **Встречи**) as (UC2)
Package Встреча {
(2.Идентифицировал \n **Клиента**) as (UC3)
(3.Передал/получил \n **Карту**) as (UC5)
}

D -- UC0
D -- UC1
D -up- UC2
C -- UC2
D -up- UC3
C -- UC3
D -- UC4
D -up- UC5
C -- UC5
D -- UC6
O -- UC0
O -- UC6

(UC0) <.. (UC1) : include
(UC0) <.. (UC4) : include
(UC0) <.. (UC6) : include
(UC3)<.left.(UC5) : include
O .left.> D : extend

Note "Документ\n удостоверяющий\n личность **Клиента**" as N1
UC3 .. N1
N1 .. UC4

@enduml
```

# Sequence 
```
@startuml
Actor Клиент
box 'Приложение'
Boundary МП
end box
box 'Банк'
Control "Система\nАвторизации" as As
Control CRM 
Participant КК
Participant Скоринг
Collections Каталог
Collections Отделения
Database Eq
end box
box 'Внешние Системы'
Participant БКИ
end box
'''''''''''''
Activate Клиент
Клиент -> МП ++ : Запуск\nприложения
opt Форма входа
Клиент <-- МП : "Введите логин/пароль"
end
Клиент -> МП : логин/пароль
МП -> As ++ : Запрос\nавторизации

'''''''''''''
alt Авторизация
As -> As : Идентификация\nАутентификация
МП <-- As : Авторизация
    group 'Получаем ID'
As -> Eq ++ : Запрос ID **Клиента**
Eq -> Eq
As <-- Eq --
МП <- As -- : ID **Клиента**
    end
opt Приветствие
Клиент <-- МП -- : "Здравствуйте, **Клиент**"
end
else Неуспешная Авторизация
 group neg
 МП <--x As : Ошибка\nаутентификации
  opt Уведомление
  Клиент <-- МП -- : "Неправильный логин\nили пароль"
  end
 end
end
Deactivate Клиент

'''''''''''''
par Отображение данных
МП -> Eq ++ : ID **Клиента**
Eq -> Eq
МП <-- Eq -- : Данные для отображения
МП -> Каталог ++ : ID **Клиента**
Каталог -> Каталог : Формирование\nпредложения
МП <-- Каталог -- : Список предложений
opt стартовый экран
Клиент <- МП : Вывод данных и/или\nпредложений
end
end

'''''''''''''
group Заказ **Кредитной Карты**

Клиент -> МП : Выбор предложения\n **Кредитная Карта**
МП -> КК ++: Запрос на выпуск\n **Кредитной Карты** для ID
КК -> Eq ++: Запрос данных **Клиента**
КК <-- Eq --
КК -> КК : Первичная обработка
alt Данных достаточно
МП <-- КК : Анкета заполнена полностью
opt Уведомление
Клиент <-- МП : "Ваша заявка принята.\nОжидайте решения"
end
else Данных НЕ достаточно
МП <-- КК : Нужны дополнительные данные
opt Форма ввода
Клиент <-- МП : "Заполните анкету"
Клиент -> МП : Заполняет
end
end

par 
КК ->> Скоринг ++ : запрос расчета
Скоринг -> Скоринг : расчет платежеспособности
КК <<-- Скоринг -- : ответ
КК ->> БКИ ++ : запрос кредитной истории
БКИ -> БКИ
КК <<-- БКИ -- :ответ 
end

alt Положительное решение
  КК -> КК : Расчет окончательных\nпараметров предложения
  МП <-- КК : Параметры **Кредитной Карты**
  opt Уведомление
  Клиент <-- МП : "Мы выпустили Вам **Кредитную Карту**\n Назначьте время и место **Встречи**"
end
else Отрицательное решение
  group neg
  МП <--X КК
  opt Уведомление
  Клиент <-- МП : "Сейчас мы не можем \nвыпустить Вам **Кредитную Карту**"
  end
end
end
'''''''''''''
group Назначаем **Встречу**
Клиент -> МП ++ : "Назначить **Встречу**" 
opt Выбор из списка
Клиент <- МП : "Выберите\nспособ доставки" 
end
Клиент -> МП : Выбирает
alt Доставка в Отделение
МП -> Отделения ++ : Местоположение по геолокации
Отделения -> Отделения
Отделения --> МП -- : ранжированный\ncписок **Отделений**
opt Выбор из списка
МП -> Клиент : "Выберите **Отделение**"
end
Клиент --> МП : Выбирает
opt Форма ввода
МП -> Клиент : "Выберите дату и время"
end
Клиент --> МП : Заполняет атрибуты\n **Встречи**
МП -> МП : Проверка формата\nвведенных данных
МП -> CRM ++ : атрибуты **Встречи**
CRM --> МП --: Подтверждение
opt Уведомление 
Клиент <-- МП -- : **Встреча** назначена
end
else Доставка Курьером
ref over Клиент, CRM 
Доставка Курьером
end ref
end
end
@enduml
```

